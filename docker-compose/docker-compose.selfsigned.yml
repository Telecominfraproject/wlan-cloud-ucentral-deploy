version: '3'

services:
  ucentralgw:
    env_file:
      - .env.selfsigned
    ports:
      - "127.0.0.1:16002:16002"
    volumes:
      - ./certs:/${UCENTRALGW_ROOT}/certs

  ucentralgw-ui:
    ports:
      - "127.0.0.1:80:80"

  ucentralsec:
    env_file:
      - .env.selfsigned
    ports:
      - "127.0.0.1:16001:16001"
    volumes:
      - ./certs:${UCENTRALSEC_ROOT}/certs

  ucentralfms:
    env_file:
      - .env.selfsigned
    ports:
      - "127.0.0.1:16004:16004"
    volumes:
      - ./certs:${UCENTRALFMS_ROOT}/certs

  rttys:
    ports:
      - "127.0.0.1:5913:5913"
    volumes:
      - ./certs/restapi-cert.pem:/etc/rttys/certs/restapi-cert.pem
      - ./certs/restapi-key.pem:/etc/rttys/certs/restapi-key.pem
      - ./rttys/rttys.conf:/rttys/rttys.conf
